{% extends 'framework/base.html' %}

{% block content %}
    <div class="container navbar-padding">
        <div class="row profile-padding">
            <div class="col-md-4">
            {# We allow editing of the profile if this is the user' profile, else display #}
            {% if user.username == profile.author.username %}
                {% if profile.image == NULL %}
                    <img style="width: 600px; height: 600px;" src="http://placehold.it/600x600" alt="" class="img-thumbnail">
                {% else %}
                    <img style="min-width: 300px; max-width: 300px" src="{{ profile.image.url }}" alt="" class="img-thumbnail">
                {% endif %} 
                
            
                    <form id="new_post" method="post" action="/profile/update/pic/" enctype="multipart/form-data">
                        {% csrf_token %}   
                            <div class="col-md-4">
                                <button type="button" onclick="$(this).siblings('input').click();"
                                        class="btn btn-default"
                                        aria-label="Left Align">
                                <span class="glyphicon glyphicon-camera"
                                      aria-hidden="true"></span> Change Profile Picture
                                </button>
                                <input type="file" name="upload_image" id="upload_image" style="display:none;" onchange="javascript:this.form.submit();">
                                
                                <div style="display:none;" class="row col-md-10 form-inline">
                                    <input style="float:right;"  type="submit" value="Submit">
                                </div>
                            </div>
                            
                    </form>
                    
            </div>
            <div class="col-md-6">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <h3 class="panel-title">Profile Details</h3>
                    </div>
                    <div class="panel-body">
                        
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="input-group">
                                    <span class="input-group-addon">Display Name</span>
                                    <input type="text" class="form-control" placeholder="{{ profile.display_name }}"
                                           disabled>
                                    <span class="input-group-btn">
                                    <button class="btn btn-default" onclick="editProfileField(this, 'display_name')">
                                        Edit
                                    </button>
                                    </span>
                                    <span class="input-group-btn" style="display:none;">
                                    <button class="btn btn-default"
                                            onclick="confirmEditProfileField(this, 'display_name')">Done
                                    </button>
                                    </span>
                                </div>
                                <div class="progress" style="margin-top: 10px; display: none;">
                                    <div class="progress-bar progress-bar-striped active" role="progressbar"
                                         aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"
                                         style="width:  100%;">
                                        <span class="sr-only">45% Complete</span>
                                    </div>
                                </div>

                            </div>
                            </div>
                            
                            <!---Github Information--->
                            <div style="padding-top: 2em"/> 
                            <div class="row">
                            <div class="col-lg-12">
                                <div class="input-group">
                                    <span class="input-group-addon">Github Username</span>
                                    <input type="text" class="form-control" placeholder="{{ profile.github_name }}"
                                           disabled>
                                    <span class="input-group-btn">
                                    <button class="btn btn-default" onclick="editProfileField(this, 'github_name')">
                                        Integrate Github
                                    </button>
                                    </span>
                                    <span class="input-group-btn" style="display:none;">
                                    <button class="btn btn-default"
                                            onclick="confirmEditProfileField(this, 'github_name')">Done
                                    </button>
                                    </span>
                                </div>
                                <div class="progress" style="margin-top: 10px; display: none;">
                                    <div class="progress-bar progress-bar-striped active" role="progressbar"
                                         aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"
                                         style="width:  100%;">
                                        <span class="sr-only">45% Complete</span>
                                    </div>
                                </div>

                            </div>
                            </div>
                    </div>
                </div>
            </div>
         {% else %}
                <p>Display Name: {{ profile.display_name }}</p>
        {% endif %}
        </div>
    </div>
    </div>
{% endblock %}
